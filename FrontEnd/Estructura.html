<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Calculadora de Promedio</title>
</head>
<body>
    <h1>Calculadora de Promedio</h1>
    <form id="formulario" action="/enviar" method="post">
        <table id="tablaNotas">
            <tr>
                <th>Materia</th>
                <th>Nota</th>
                <th>Cr√©ditos</th>
                <th>Eliminar</th>
            </tr>
            <tr>
                <td><input name="materia[]" type="text" required></td>
                <td><input name="nota[]" type="number" min="0" max="5" step="0.1" required></td>
                <td><input name="creditos[]" type="number" min="1" max="30" required></td>
                <td><button type="button" onclick="eliminarFila(this)">-</button></td>
            </tr>
        </table>

        <button type="button" onclick="agregarFila()">Agregar materia</button>
        <button type="submit">Enviar</button>
    </form>

    <script>
        function agregarFila() {
            const tabla = document.getElementById("tablaNotas");
            const fila = document.createElement("tr");
            fila.innerHTML = `
                <td><input name="materia[]" type="text" required></td>
                <td><input name="nota[]" type="number" min="0" max="5" step="0.1" required></td>
                <td><input name="creditos[]" type="number" min="1" max="30" required></td>
                <td><button type="button" onclick="eliminarFila(this)">-</button></td>
            `;
            tabla.appendChild(fila);
        }

        function eliminarFila(boton) {
            const tabla = document.getElementById("tablaNotas");
            if(tabla.rows.length > 2) { 
                boton.parentElement.parentElement.remove();
            }
        }
    </script>
</body>
</html>
